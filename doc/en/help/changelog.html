<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <title>BrainVISA ChangeLog</title>
  <style type="text/css">
    BODY {
          text-align: justify;
          margin: 0.5cm;
        }
  </style>
</head>


<body alink="#ff0000" bgcolor="#ffffff" link="#0000ee" text="#000000" vlink="#551a8b">


<center>
<h1>BrainVISA ChangeLog</h1>
</center>


<hr width="100%"> <br>
<a href="#version-4.0.2"><b>Version 4.0.2</b></a><br>
<a href="#version-4.0.1"><b>Version 4.0.1</b></a><br>
<a href="#version-4.0.0"><b>Version 4.0.0</b></a><br>
<a href="#version-3.2.1"><b>Version 3.2.1</b></a><br>
<a href="#version-3.2.0"><b>Version 3.2.0</b></a><br>
<a href="#version-3.1.6"><b>Version 3.1.6</b></a><br>
<a href="#version-3.1.5"><b>Version 3.1.5</b></a><br>
<a href="#version-3.1.4"><b>Version 3.1.4</b></a><br>
<a href="#version-3.1.3"><b>Version 3.1.3</b></a><br>
<a href="#version-3.1.2"><b>Version 3.1.2</b></a><br>
<a href="#version-3.1.1"><b>Version 3.1.1</b></a><br>
<a href="#version-3.1.0"><b>Version 3.1.0</b></a><br>
<a href="#version-3.0.2"><b>Version 3.0.2</b></a><br>
<a href="#version-3.0.1"><b>Version 3.0.1</b></a><br>
<a href="#version-3.0.0"><b>Version 3.0.0</b></a><br>
<a href="#version-2.3.5"><b>Version 2.3.5</b></a><br>
<a href="#version-2.3.4"><b>Version 2.3.4</b></a><br>
<a href="#version-2.3.2"><b>Version 2.3.2</b></a><br>
<a href="#version-2.3.0"><b>Version 2.3.0</b></a><br>
<a href="#version-1.5"><b>Version 1.5</b></a><br>

<br>
<!---------------------------------------------------------------------------->
<h2><a name="version-4.0.2">Version 4.0.2</a></h2>
<blockquote>

<h3>General bug fixes and improvements:</h3>
<ul>
<li>New progress bar in processes and pipeline windows.</li>
<li>Viewers and Editors are now available for list of data. The default viewer is an iteration of the viewer for the type of data in the list.</li>
<li>Fix background and foreground color of choice nodes in pipeline graphical interface.</li>
<li>Fix iteration on Series of 3D volume (Import fMRI data)</li>
<li><b>Database browser</b>: enable visualization of unrecognized data if a viewer that accepts the data format exists.</li>
<li>Fix commands log in windows version.</li>
<li>Documentation panel : enable links with anchor and open web links in a real web browser when possible.</li>
<li>Browse button in process iteration dialog always opens the dialog that enables selecting several files at different location on the filesystem. 
This action was only available through right click before.</li>
<li>Improvement of database update when a process finishes : intermediate directory items created by the process are inserted in the database; 
output parameters of a sub-process not in a pipeline are inserted in the database. </li>

<li>Improvement in <b>Morphometry statistics</b> process : output parameters are now output_directory and output_filename_prefix instead of output_prefix and have default values.</li>
<li>Improvement in <b>DicomToNiftiConverter</b> process : enable choosing the output filename and giving a directory containing dicom images instead of a file as input parameter.</li>
<li>New importation process to import a T1 MRI from a Dicom directory using Mricron Dicom converter.</li>
<li>Fix <b>Single file to serie</b> process : generate the numbers of the serie with a fix number of digit to ensure that the files of the serie are in the correct order.</li>
<li><b>T1 MRI : new sulci voronoi step before the folds thickness step, to allow saving and reusing the sulci voronoi maps; New type for lesion mask used in the brain segmentation parameters.</b></li>
<li><b>Sulci : new processes to calculate the mean distance from a lesion mask to sulci.</b></li>
</ul>
</blockquote>

<!---------------------------------------------------------------------------->
<h2><a name="version-4.0.1">Version 4.0.1</a></h2>
<blockquote>

<h3>General bug fixes and improvements:</h3>
<ul>
<li>New Dicom converter using Mricron. The converter is in toolbox tools -&gt; converters. It is available if Mricron is installed in your computer.</li>
<li>Fix database conversion process which was not compatible with qt4.</li>
<li>Fix BrainVISA log file.</li>
<li>Cortical surface: Fix gyral parcellation (command siParcellation). </li>
<li>T1 MRI pipeline: test if brain mask is empty or full and fail accordingly</li>
<li>Sulci: Fix scripts siCSVMapGraph, siDiffModels, siDisplayGraph and annealing_tag which were not compatible with qt4.</li>
<li>BrainRAT</li>
<ul>
<li>Fix issue in intra volume propagative slice registration</li>
<li>Fix command AimsFFDApply</li>
<li>Add AimsFlip RGB support</li>
<li>Add a variation ratio parameter to AimsIndividSlices</li>
<li>Add RGB support to FlipApplication</li>
<li>Add threshold parameter to IntraVolumePropagativeSliceRegistration process</li>
<li>Fix issue in AimsIndividStackSlices and AimsIndividSlices</li>
</ul>
</ul>
</blockquote>


<!---------------------------------------------------------------------------->
<h2><a name="version-4.0.0">Version 4.0.0</a></h2>
<blockquote>

<ul>
<li><b>First version of BrainVISA using Qt4 API</b>. Be careful, Qt4 API is quite different from Qt3. If some of your own processes use Qt, you may have to port them to Qt4 (See <a href="http://doc.trolltech.com/4.6/porting4.html">Porting to Qt 4</a> on Qt documentation pages). This version's source code is still compatible with Qt3, so if you compile from source, you can still use Qt3. Note that the compatibility will not be guaranteed anymore in BrainVISA 4.1.</li>
<li>New contextual menu on pipelines and iterations enabling easy selection, deselection, opening and documentation display of the different steps.</li>
<li>Visual feedback in processes graphical interface to show which parameters have been modified.</li>
<li>BrainVISA documentation panel: keyboard shortcuts for contextual menu items and a new button to reload the current documentation page. </li>
<li>Attributes sorting enabled in database search interface (available only in Qt4 version).</li>
<li><b>Import T1 MRI</b>: the default value for subject attribute is the name of the file.</li>
<li>Types and formats documentation now shows the hierarchy rules for all available ontologies</li>
<li>Fix: parameter exactType in WriteDiskItem initialization is now taken into account.</li>
<li><b>Sulci toolbox</b> - ergonomy improvements in Sulci recognition pipeline: combo boxes to select the recognition method.</li>
</ul>
</blockquote>

<!---------------------------------------------------------------------------->
<h2><a name="version-3.2.1">Version 3.2.1</a></h2>
<blockquote>

<h3>General bug fixes and improvements:</h3>
<ul>
<li>Several bug fixes with list parameters in processes</li>
<li>Fix problems with big iterations</li>
<li>Fix display problems in graphical interface</li>
<li>New menu to start a python shell</li>
<li>Several other bug fixes</li>
<li>T1MRI toolbox
<ul>
<li>New step in the T1 pipeline: normalization process using SPM or FSL that can replace manual selection of AC/PC points.</li>
<li>Fix parameter links problems in T1 pipeline</li>
<li>Reorganized the grey/white segmentation step of the T1 pipeline since the 2005 variant of it was not doing what it should.
</li>
<li>New importation process for brain masks</li>
</ul>
</li>
</ul>

</blockquote>

<!---------------------------------------------------------------------------->
<h2><a name="version-3.2.0">Version 3.2.0</a></h2>
<blockquote>

<li>BrainVISA package should work on <b>Windows Vista</b></li>
<li><b>Databases</b> are not automatically updated anymore. It is always asked to the user before.</li>
<li>Optimization of databases requests. The results are now shown as a table of attributes values.</li>
<li>Easier database request with existing values of databases attributes selectable</li>
<li>Databases can be moved without needing update.</li>
<li>DiskItem selection window cannot become higher than screen anymore</li>
<li>No more useless *.minf created by processes</li>
<li><b>Iteration control</b> : it is possible to stop the current iteration or all iterations.</li>
<li>Several other bug fixes</li>

</blockquote>

<!---------------------------------------------------------------------------->
<h2><a name="version-3.1.6">Version 3.1.6</a></h2>
<blockquote>

<h3>General bug fixes and improvements:</h3>
<li>Toolboxes can now completely define new ontologies</li>
<li>Some parameters links fixes and improvements</li>
<li>Suppressed a latency when clicking the "run" button of a process</li>
<li>Fix: some attributes in output disk items browser were erroneously hidden, which actually made it impossible to write some specific data types.</li>
<li>Fixed synchonization problem between database content and minf files content, which could cause strange problems when re-processing or re-importing data over existing older ones</li>
<li>Several other bug fixes</li>

<h3>Toolboxes:</h3>
<li>Fixes in animation/mpeg processes</li>
<li>SPM normalization files conversion has been re-written, and can handle SPM5 and SPM8 files</li>
<li>T1: the reorientation routines in PrepareSubject have been re-written. They now handle any orientation</li>
<li>T1: new TalairachTransformationFromNormalization process, to import orientation parameters from a normalization file</li>
<li>T1: fixes in some memory (re-)allocation functions on Mac, which caused memory consumption to grow anormally and some commands to crash in the T1 pipeline.</li>
<li>T1: fixes in 3.1 graphs: on sulcus opening descriptors, which mixed unnormalized CSF volume and normalized sulcus surface, on grey_surface_area, and on cortical thickness which could be inaccurate in some locations (sulci fundi especially)</li>
<li>T1: in 3.1 graphs construction or upgrade variants, the process crashed on Windows. We fixed it by disabling multithreading on Windows, and making it optional on other platforms.</li>
<li>T1: set total sulci length in global graph attributes of 3.1 sulci graphs</li>
<li>Sulci: new multi-subject sulci snapshot process</li>
<li>Sulci: new sulci labels transfer process, to transfer a labeling to another sulci graph with a different segmentation and graph structure (but same subject)</li>

</blockquote>

<!---------------------------------------------------------------------------->
<h2><a name="version-3.1.5">Version 3.1.5</a></h2>
<blockquote>

<h3>General bug fixes and improvements:</h3>
<li>Improvement of processes documentation : each data type mentionned in a documentation is a link to a detailled documentation about the data type (inheritance, processes that use it, associated formats, place in Brainvisa databases). The source code of a process can now be displayed in the browser.</li>
<li>Bug about process parameters default values.</li>
<li>More data types and formats accepted in some processes.</li>
<li>Application Qt style can now be changed from BrainVISA configuration panel</li>
<li>In databases configuration, ontologies list is not hard-coded anymore</li>
<li>Improvements in pipelines remote execution</li>
<li>... and many other fixes and improvements under the scene...</li>

</blockquote>

<!---------------------------------------------------------------------------->
<h2><a name="version-3.1.4">Version 3.1.4 (14/11/2008)</a></h2>
<blockquote>

<h3>General bug fixes and improvements:</h3>
<li>Bug when a BrainVISA database is not available.</li>
<li>Bug in database conversion process with sulci directory.</li>
<li>Improvement of ListOf parameters management.</li>
<li>Possibility to import a T1 MRI in NIFTI format.</li>
<li>Improvement of the generic importation process.</li>
<li>New process in tools -&gt; documentation to generate documentation about BrainVISA types.</li>
<li>... and many other fixes and improvements under the scene...</li>
<h3>Toolboxes : </h3>
<li>BrainRAT toolbox is now distributed with BrainVISA.</li>
<li>The fMRI toolbox will be distributed separately as a downloadable add-on package to provide it its own visibility.</li>

</blockquote>

<!---------------------------------------------------------------------------->
<h2><a name="version-3.1.3">Version 3.1.3</a></h2>
<blockquote>
<h3>General bug fixes:</h3>
<li>More database fixes: especially, optilization issues were fixed, which made acces very slow (especially on a network) and going slower and slower while working in a brainvisa session.
</li>
<li>The database access interface (database buttons on processes parameters) has been improved, especially for output values: it is now possible to type lists of editable attributes, making it possible to iterate importation processes for instance (iterate to import 3 files, just type 3 subjects names).
</li>
<li>The "save process" (.bvproc files) feature now also works on iterations. <b>Warning</b>: The structure of bvproc files have changed: new files will not be readable by older versions of Brainvisa.
</li>
<li>Iteration parameters inputs are a bit smarter and a bit more convivial: parameters with a single value are interpreted as the same value for all iterations.
</li>
<li>Improvements and customizations in database conversion processes, especially when dealing with unrecognized data.
</li>
<li>in the T1 pipeline, the newer cortical folds graph creation/upgrade processes have been fixed and optimized: the cortical thickness calculations don't take hours anymore.
</li>
<li>... and many other fixes and improvements under the scene...
</li>

</blockquote>


<!---------------------------------------------------------------------------->
<h2><a name="version-3.1.2">Version 3.1.2</a></h2>
<blockquote>

<h3>General bug fixes:</h3>
<li>Some database fixes</li>
<li>Several other little things...</li>

</blockquote>


<!---------------------------------------------------------------------------->
<h2><a name="version-3.1.1">Version 3.1.1</a></h2>
<blockquote>

<h3>General bug fixes:</h3>
<li>Fixed some importation processes
</li>
<li>Fixes in database update</li>
<li>Fixes in database conversions (3.0 to 3.1) when converting "dirty" databases
</li>
<li>Fix: in some conditions, user typed values in processes GUI where not taken into account
</li>
<li>Many less important little fixes
</li>

</blockquote>


<!---------------------------------------------------------------------------->
<h2><a name="version-3.1">Version 3.1</a></h2>
<blockquote>

<h3>Core:</h3>
<blockquote>
  <li>New organization of BrainVISA processes toolboxes. Each toolbox can define its own processes, extend database ontology, extend BrainVISA GUI (for instance add specific entry in preferences window), <i>etc</i>. A new panel has been added to BrainVISA main window to select toolboxes.</li>
  <li>BrainVISA user directory (<code>$HOME/.brainvisa</code> under Linux and Mac and most often <code>C:\Documents and settings\{user name}\</code> under Windows) is now considered as a toolbox named 'My processes'.</li>
  <li>New preferences panel with a tab for each group of options. Options are now saved in <code>options.minf</code> in BrainVISA user directory.</li>
  <li>It is now possible to add custom processes trees in the main window (saved in <code>userProcessTrees.minf</code> in BrainVISA user directory).</li>
  <li>Database system had been rewritten for better performance and scalability. The new system is based on <a href="http://www.sqlite.org/">SQLite</a>.</li>
  <li>Default databases organization had been modified. Old organization (named <code>brainvisa-3.0</code>) is not compatible with new <code>brainvisa-3.1.0</code> organization. A converter had been written to convert from <code>brainvisa-3.0</code> to <code>brainvisa-3.1.0</code>.</li>
  <li>Added support for <a href="http://nifti.nimh.nih.gov/nifti-1/">NIfTI-1</a> format.</li>
  <li>An experimental framework for distribution of processes on several computers had been released.</li>
  <li>The Python API to control Anatomist from Python had been completely rewritten (and documented).</li>
  <li>Management of referentials and transformations had been improved.</li>
  <li>New features in process <em>Database Hierarchy Browser</em>: it is possible to search data, copy data using drag and drop, call a viewer, remove data, and convert graphs (using process Compute Cortical Fold Graph Upgrade From Old) through this interface.</li>
  <li>When right-clicking a process on the main window, a contextual menu allow to open, edit or iterate the processes.</li>
  <li>Several BrainVISA can be launched by the same user without messing up the log files. Each BrainVISA instance now have its own session.</li>
  <li>Processes and their parameters can be saved in a <code>*.bvproc</code> file. Opening this file in BrainVISA restore the process window.</li>
  <li>There are so many other things that we truly regret that we did not update this changelog regularly.</li>

</blockquote>

<h3>Toolboxes</h3>
<blockquote>

  <h4>T1 MRI:</h4>
  <blockquote>
    Tools for segmentation of various anatomical objects (hemispheres, grey matter, white matter, cortical sulci and gyri, <i>etc.</i>) from T1 weighted MRI.
  </blockquote>
  
  <h4>Sulci</h4>
  <blockquote>
  </blockquote>
  
  <h4>Diffusion and Tracking:</h4>
  <blockquote>
    Diffusion MR image analysis and fiber tracking.
    <p>
      <li>New diffusion model added: QBall imaging.</li>
      <li>Tracking can be don either with DTI model or QBall model.</li>
      <li>New regularized probabilistic tracking methods.</li>
    </p>
  </blockquote>
  
  
  <h4>Datamind:</h4>
  <blockquote>
  </blockquote>
  
  <h4>Cortical surface</h4>
  <blockquote>
  </blockquote>
  
  <h4>Structural analysis</h4>
  <blockquote>
  </blockquote>
  
  <h4>Biology</h4>
  <blockquote>
  </blockquote>
  
  <h4>Nuclear Imaging</h4>
  <blockquote>
  </blockquote>
  
  <h4>Morphometry</h4>
  <blockquote>
  </blockquote>
  
  <h4>TMS</h4>
  <blockquote>
  </blockquote>
  
  <h4>Data management</h4>
  <blockquote>
  Core BrainVISA toolbox. Contains processes for databases management: data importation, databases checking, update and exploration.
  </blockquote>
  
  <h4>Tools</h4>
  <blockquote>
  Core BrainVISA toolbox. Contains general processes that could not be put in another, more specific, toolbox.
  </blockquote>
</blockquote>
</blockquote>



<!---------------------------------------------------------------------------->

<h2><a name="version-3.0.2">Version 3.0.2 (05/05/2006)</a></h2>
<blockquote>

<h3>General bug fixes:</h3>
<li>Fixed a <em>command not found</em> error that prevented to use command lines programs from BrainVISA package (such as Aims... or Vip... commands) when BrainVISA was installed in a directory with space(s) in its name.</li>

<h3>Diffusion and Fiber tracking:</h3>

<li>During fiber tracking, the size of fascicles is limited to 20 000 points to avoid infinite loops in some cases.</li>

<h3>Improvements</h3>

<li>Documentation of a category (i.e. category_documentation.minf file) do not have to be in the main BrainVISA directory to be taken into account.
</li>

</blockquote>


<!---------------------------------------------------------------------------->
<h2><a name="version-3.0.1">Version 3.0.1 (10/10/2005)</a></h2>
<blockquote>

<h3>Bug fixes:</h3>
<li> Fixed a crash when using bundles features viewers</li>
<li>Log file is not expanded (therefore it is not read) at startup time. It avoids possible errors preventing BrainVISA to start when two BrainVISA instances are writing on the same cache file.</li>
<li>Fixed an error in DiskItem comparison operations</li>
<li>Changed the way system commands are run by BrainVisa on Mac and Windows. It seems to avoid hangups on Mac when BrainVisa is run from the desk or finder, and allows to stop processes on Windows.</li>
<li>The rotating icon animation when processes are running has been made more lightweight: it could cause severe slowdown on old and slow machines.</li>

<h3>Diffusion and Fiber tracking:</h3>
<li>Removed options related to bundles selection from fascicle tracking process</li>
<li>An error was fixed in linear interpolation of Aims library. This
interpolation is used in several algorithms including diffusion and
fiber tracking.</li>

<h3>Improvements</h3>

<li>Link with Matlab: multiple Matlab versions may now be supported. The matlab module in 
  BrainVisa can switch between several pymat module compiled for either matlab 6 or 7. 
  We have built pymat modules for both matlab versions in the binary packages (Linux, Windows, 
  Mac, althrough they have not been tested at all on Mac)
</li>

</blockquote>


<!---------------------------------------------------------------------------->
<h2><a name="version-3.0.0">Version 3.0.0 (29/06/2005)</a></h2>
<blockquote>
Well, the changelog hasn't been maintained for this version... There has been quite 
many changes, the most noticeable in the core of BrainVISA is a new pipeline system.&nbsp;</div>
</blockquote>



<!---------------------------------------------------------------------------->
<h2><a name="version-2.3.5">Version 2.3.5 (30/11/2004)</a></h2>
<blockquote>

<h3>Changes in the core:</h3>


<li>Fix in combo boxes creation in database browser that broke compatibility with new 
  Python-Qt binding library (SIP 4). This bug made the importation processes break on the 
  Mac version, and probably the Windows version too.
</li>

<li>Fix a possible crash in the redraw routines when a database browser combo was selected. 
  Especially, this bug caused dirty crashes on the Mac version that made it quite unusable.
</li>
</blockquote>


<!---------------------------------------------------------------------------->
<h2><a name="version-2.3.4">Version 2.3.4 (17/11/2004)</a></h2>
<blockquote>


<h3>Changes in the core:</h3>


<li>Improvements in the installation program: it is not really part of BrainVisa, but there 
  is no other place yet for it. Installation in directories containing space characters now work 
  on all systems (esp. windows), 
  running the SHFJEnvironmentVariables scripts is no longer necessary to run all Aims and Vip 
  commands from a terminal, re-running the setup program is safe and may be used after moving the 
  installation directory.
</li>

<li>Changes to work with more recent versions of SIP/PyQt</li>



<h3>Changes in processes:</h3>


<li>SPM to AIMS normalization matrixes converter now also works with SPM2 normalization 
  files
</li>
</blockquote>



<!---------------------------------------------------------------------------->
<h2><a name="version-2.3.2">Version 2.3.2 (07/07/2004)</a></h2>
<blockquote>


<h3>Changes in the core:</h3>


<li>Fixed an ambiguity in the standard database hierarchy that caused the anatomical 
  pipeline to fail at the end (graphToTalairach)</li>

<li>Various fixes in C and C++ libraries used by BrainVisa processes. Amongst other things, this 
  update should fix some problems on Windows XP (ROI graph writing, anatomical pipeline failure when 
  using filenames containing space characters...)
</li>

<li>GUI improvement in DiskItem finder box for data importation</li>

<li>...</li>



<h3>Changes in processes:</h3>


<li>Fixes in SPM-&gt;AIMS transformation converter</li>

<li>SPM normalization/coregistration matrix converter, SPM images 
  importation for anatomy, multiple cortical folds recognitions, ...
</li>

<li>in anatomy/pipeline/PrepareSubject, the parameter <tt>allow_flip_initial_MRI</tt>
  has been set to <tt>false</tt> by default to avoid mistakes</li>

<li>Mesh smoothing process failed when filenames contained spaces</li>

</blockquote>


<!---------------------------------------------------------------------------->
<h2><a name="version-2.3.0">Version 2.3.0 (18/02/2004)</a></h2>
<blockquote>


<h3>Changes in the core:</h3>


<li>Setup menus for options</li>

<li>Databases setup is done via the menus: editing <tt>options.py</tt> is no longer 
necessary.</li>

<li>Bug reports options</li>

<li>Better help system and french documentation. Ahem, er, yes, french. That's true...</li>

<li>Porting to Windows</li>

<li>Tooltips in processes GUI</li>

<li>A new process category: editors, are similar to viewers but are dedicated to data 
  modification. For now, a "label image" editor calls the ROI edition tool of Anatomist
</li>

<li>Lots of other things I don't remember</li>


<h3>Changes in processes:</h3>


<li>Diffusion and tracking pipeline</li>

<li>Anatomical pipeline:
  
  <ul>

  <li>subject preparation now takes care of image orientations</li>

  <li>the pipeline also creates the head mesh</li>

  
  </ul>

</li>

<li>Some cleanup has been done in the multiple processes of BrainVISA: the userLevels 
  have been modified in some cases so as to show in basic level only really useful 
  ones (pipelines etc).
</li>

</blockquote>


<!---------------------------------------------------------------------------->
<h2><a name="version-1.5"></a>Version 1.5 (23/05/2003)</h2>
<blockquote>
There was no changelog at his time.
</blockquote>

</body>
</html>

